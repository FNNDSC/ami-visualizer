<!--
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/app-layout/app-header/app-header.html">
<link rel="import" href="../bower_components/app-layout/app-header-layout/app-header-layout.html">
<link rel="import" href="../bower_components/app-layout/app-scroll-effects/app-scroll-effects.html">
<link rel="import" href="../bower_components/app-layout/app-toolbar/app-toolbar.html">

<link rel="import" href="../bower_components/paper-slider/paper-slider.html">

<link rel="import" href="module-manager/module-manager.html">
<link rel="import" href="module-fileBrowser/module-fileBrowser.html">
<link rel="import" href="module-scene/module-scene.html">
<link rel="import" href="module-editor/module-editor.html">

<dom-module id="my-app">
  <template>
    <style>
      :host {
        --app-primary-color: #424242;
        --app-light-primary-color: #eeeeee;

        --app-secondary-color: #212121;

        --app-third-color: #757575;

        --app-accent-color: #03a9f4;
        --app-dark-accent-color: #01579b;

        --paper-tab-ink: var(--app-accent-color);
        --paper-tabs-selection-bar-color: var(--app-accent-color);

        --paper-slider-knob-color: var(--app-accent-color);
        --paper-slider-pin-color: var(--app-accent-color);
        /*--paper-slider-container-color: var(--app-dark-accent-color);*/
        --paper-slider-active-color: var(--app-accent-color);

        --paper-fab-background: var(--app-accent-color);
        --paper-fab-keyboard-focus-background: var(--app-dark-accent-color);

        --paper-input-container-focus-color: var(--app-dark-accent-color);

        display: flex;
        flex-direction: column;

        background-color: #eeeeee;

        position: absolute;
        top:0;
        left:0;
        right:0;
        bottom:0;

      }

      paper-range-slider {
        --paper-range-slider-knob-color: var(--app-accent-color);
        --paper-range-slider-active-color: var(--app-accent-color);
        --paper-range-slider-pin-color: var(--app-accent-color);
      }

      .paper-range-slider {
        display: flex;
      }

      .paper-range-slider paper-input{
        width: 50px;
        overflow: hidden;
      }

      app-toolbar {
        color: #fff;
        background-color: var(--app-primary-color);
      }

      .content {
        flex: 1;

        display: flex;
        flex-direction: row;
      }

      .controls {
        width: 400px;
        height:100%;

        display: flex;
        flex-direction: column;

        background-color: var(--app--light-primary-color);
      }

      .renderers {
        width: 100%;
        display: flex;
        flex-wrap: wrap;

        background-color: #353535;
      }

      .renderers > div {
        box-sizing:border-box;
        border: 1px solid rgba(0, 0, 0, .2);
        position: relative;
        overflow: hidden;
      }

      div.v1 {
        border-top: 1px solid #ffeb3b;
      }

      .big {
        height: 70%;
        width:100%;
      }

      div.v2 {
        border-top: 1px solid #f44336;
      }

      div.v3 {
        border-top: 1px solid #4caf50;
      }

      div.v4 {
        border-top: 1px solid #2196f3;
      }

      .small {
        height: 30%;
        flex: 1;
        position: relative;
      }

      paper-slider {
        width: 100%;
        position: absolute;
        bottom: 0px;
      }



    </style>

    <app-toolbar>
      <div main-title>AMI Visualizer</div>
    </app-toolbar>

    <div class="content">

      <module-manager class="controls">
        <module-fileBrowser id="module-fileBrowser" class="module" label="data"></module-fileBrowser>
        <module-scene id="module-scene" class="module" label="scene"></module-scene>
        <module-editor id="module-editor" class="module" label="editor"></module-editor>
      </module-manager>

      <div class="renderers">
        <div class="v1 big"></div>
        <div class="v2 small">
          <paper-slider value="21" pin></paper-slider>
        </div>
        <div class="v3 small">
          <paper-slider value="21" pin></paper-slider>
        </div>
        <div class="v4 small">
          <paper-slider value="21" pin></paper-slider>
        </div>
      </div>

    </div>

  </template>

  <script>
    Polymer({
      is: 'my-app',
      properties :{
      },

      clickInput: function( evt ){
        this.$.filesinput.click();
      },

      localFS_load: function( evt ){
        // convert files object to an array
        var files = [];
        for ( var i = 0; i < evt.target.files.length; i++ ) {
          files.push( evt.target.files[i] );
        }
        this.files =  files;
        console.log(this.files);
        // process files then add it to scene if makes sense.
      }
    });
  </script>
</dom-module>
